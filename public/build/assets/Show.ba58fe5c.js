import{u as w,o as r,c as V,w as y,U as v,V as K,d as l,b as t,L as A,g as b,a,t as c,e as u,a3 as P,f as N}from"./app.cbadd5a6.js";import{_ as $}from"./Show.c54a1540.js";import{_ as d}from"./Label.b7ad9dd1.js";import{_ as p}from"./Input.d60ea0ad.js";import{_ as h}from"./Header1.4d5ae8c0.js";import{d as x}from"./main.ab9d0f21.js";import{_ as S}from"./Container.3c236ea6.js";import{h as D}from"./moment.9709ab41.js";import"./Master.83d66d13.js";import"./index.5ef1a72a.js";const z=["href"],C=N("Lengkapi Data Supplier"),Y={class:"flex gap-4 mt-10"},J={class:"font-bold text-lg tracking-wider mb-3"},E={class:"font-bold text-lg tracking-wider mb-3"},H={class:"font-bold text-lg tracking-wider mb-3"},L={class:"font-bold text-lg tracking-wider mb-3"},q={class:"grid grid-rows-4 grid-flow-col gap-x-3"},F={key:0},O=["href"],I={key:1,for:"sppbj",class:"btn w-full border-first modal-button bg-first"},Q={for:"sppbj",class:"modal cursor-pointer"},R={class:"modal-box relative",for:""},W=l("label",{for:"sppbj",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),G={class:"flex justify-center my-5"},X={key:1},Z=["href"],ee={key:1,for:"spk",class:"btn w-full mt-3 border-first modal-button bg-first"},te={for:"spk",class:"modal cursor-pointer"},oe={class:"modal-box relative",for:""},le=l("label",{for:"spk",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),ae={class:"grid grid-flow-row-dense grid-cols-2 grid-rows-2 gap-x-4"},se={key:0},re={key:1,class:"text-secondary font-bold"},ne={class:"flex justify-center my-5"},de={key:2},ie=["href"],ue={key:1,for:"sp",class:"btn w-full mt-3 border-first modal-button bg-first"},me={for:"sp",class:"modal cursor-pointer"},ce={class:"modal-box relative",for:""},be=l("label",{for:"sp",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),pe={class:"flex justify-center my-5"},fe={class:"grid grid-rows-4 grid-flow-col gap-x-3"},ke={key:0},ge=["href"],he={key:1,for:"bap",class:"btn w-full mt-3 border-first modal-button bg-first"},ye={for:"bap",class:"modal cursor-pointer"},ve={class:"modal-box relative",for:""},xe=l("label",{for:"bap",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),we={class:"flex justify-center my-5"},Ve={key:1},Pe=["href"],Se={key:1,for:"bastp",class:"btn w-full mt-3 border-first modal-button bg-first"},Be={for:"bastp",class:"modal cursor-pointer"},_e={class:"modal-box relative",for:""},Te=l("label",{for:"bastp",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),je={class:"flex justify-center my-5"},Je={__name:"Show",props:{procurement:{type:Object,required:!0}},setup(s){const m=w({status:1,no_sppbj:"",purpose_sppbj:"",date_sppbj:null,date_offer:null,no_offer:"",modal:0,_method:"patch"}),i=w({status:2,no_spk:"",mak_code:"",start:null,days:1,end:null,modal:0,_method:"patch"}),f=w({status:3,no_bastp:"",date_bastp:null,modal:0,_method:"patch"}),k=w({status:4,no_bap:"",date_bap:null,modal:0,_method:"patch"}),g=w({status:5,no_sp:"",paket_sp:"",date_sp:null,modal:0,_method:"patch"}),_=n=>{m.post(route("kontrak.procurement.update",n),{onSuccess:e=>{console.log("sukses membuat SPPBJ",e),m.reset()},onError:e=>{console.log(e)}})},T=n=>{i.post(route("kontrak.procurement.update",n),{onSuccess:e=>{console.log("sukses membuat SPK",e),i.reset()},onError:e=>{console.log(e)}})},j=n=>{f.post(route("kontrak.procurement.update",n),{onSuccess:e=>{console.log("sukses membuat bastp",e),f.reset()},onError:e=>{console.log(e)}})},M=n=>{k.post(route("kontrak.procurement.update",n),{onSuccess:e=>{console.log("sukses membuat bap",e),k.reset()},onError:e=>{console.log(e)}})},U=n=>{g.post(route("kontrak.procurement.update",n),{onSuccess:e=>{console.log("sukses membuat sp",e),g.reset()},onError:e=>{console.log(e)}})},B=n=>{console.log("masuk");const e=D(i.start,"MM-DD-YYYY").add(n,"days").format("DD-MM-YYYY");i.days=n,i.end=e};return(n,e)=>(r(),V($,{procurement:s.procurement},{file:y(()=>[v(l("a",{href:n.route("kontrak.document.boq",s.procurement.id),class:"btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"Lihat BOQ",8,z),[[K,s.procurement.hps_submitted]])]),comment:y(()=>[s.procurement.suppliers.province?b("",!0):(r(),V(t(A),{key:0,href:n.route("kontrak.supplier.edit",s.procurement.suppliers.id),class:"btn btn-sm mt-10 text-first bg-slate-200 border-none hover:text-white hover:bg-first font-bold"},{default:y(()=>[C]),_:1},8,["href"]))]),"extra-info":y(()=>[l("div",Y,[s.procurement.suppliers.province?(r(),V(S,{key:0},{default:y(()=>[l("div",null,[a(h,{title:"Data Supplier",widthSize:"60"}),a(d,{value:"Nama",class:"mt-5"}),l("p",J,[l("span",null,c(s.procurement.suppliers.entity)+". "+c(s.procurement.suppliers.name),1)]),a(d,{value:"NPWP",class:"mt-5"}),l("p",E,[l("span",null,c(s.procurement.suppliers.npwp),1)]),a(d,{value:"Alamat"}),l("p",H,[l("span",null,c(s.procurement.suppliers.address+", "+s.procurement.suppliers.regency+", "+s.procurement.suppliers.province),1)]),a(d,{value:"Rekening"}),l("p",L,[l("span",null,c(s.procurement.suppliers.bank)+" "+c(s.procurement.suppliers.account),1)])])]),_:1})):b("",!0),s.procurement.suppliers.province?(r(),V(S,{key:1},{default:y(()=>[a(h,{title:"File Kontrak",widthSize:"60"}),l("div",q,[s.procurement.estimate.total>=5e7?(r(),u("div",F,[s.procurement.contract.no_sppbj?(r(),u("a",{key:0,href:n.route("kontrak.document.sppbj",s.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"SPPBJ",8,O)):(r(),u("label",I,"Buat SPPBJ")),v(l("input",{type:"checkbox",id:"sppbj",class:"modal-toggle","onUpdate:modelValue":e[0]||(e[0]=o=>t(m).modal=o)},null,512),[[P,t(m).modal]]),l("label",Q,[l("label",R,[W,a(h,{title:"Surat Penunjukan Penyedia Barang/Jasa",widthSize:100}),a(d,{value:"Nomor SPPBJ",class:"mt-10"}),a(p,{type:"text",class:"mt-1 block w-full",modelValue:t(m).no_sppbj,"onUpdate:modelValue":e[1]||(e[1]=o=>t(m).no_sppbj=o)},null,8,["modelValue"]),a(d,{value:"Prihal"}),a(p,{type:"text",class:"mt-1 block w-full",modelValue:t(m).purpose_sppbj,"onUpdate:modelValue":e[2]||(e[2]=o=>t(m).purpose_sppbj=o)},null,8,["modelValue"]),a(d,{value:"Nomor Penawaran"}),a(p,{type:"text",class:"mt-1 block w-full",modelValue:t(m).no_offer,"onUpdate:modelValue":e[3]||(e[3]=o=>t(m).no_offer=o)},null,8,["modelValue"]),a(d,{value:"Tanggal SPPBJ"}),a(t(x),{modelValue:t(m).date_sppbj,"onUpdate:modelValue":e[4]||(e[4]=o=>t(m).date_sppbj=o),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),a(d,{value:"Tanggal Penawaran",class:"mt-3"}),a(t(x),{modelValue:t(m).date_offer,"onUpdate:modelValue":e[5]||(e[5]=o=>t(m).date_offer=o),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),l("div",G,[l("button",{onClick:e[6]||(e[6]=o=>_(s.procurement.id)),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat SPK")])])])])):b("",!0),s.procurement.contract.no_sppbj&&s.procurement.estimate.total>=5e7?(r(),u("div",X,[s.procurement.contract.no_spk?(r(),u("a",{key:0,href:n.route("kontrak.document.spk",s.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"SPK",8,Z)):(r(),u("label",ee,"Buat SPK")),v(l("input",{type:"checkbox",id:"spk",class:"modal-toggle","onUpdate:modelValue":e[7]||(e[7]=o=>t(i).modal=o)},null,512),[[P,t(i).modal]]),l("label",te,[l("label",oe,[le,a(h,{title:"Data Surat Perintah Kerja",widthSize:100}),a(d,{value:"Nomor SPK",class:"mt-10"}),a(p,{type:"text",class:"mt-1 block w-full",modelValue:t(i).no_spk,"onUpdate:modelValue":e[8]||(e[8]=o=>t(i).no_spk=o)},null,8,["modelValue"]),a(d,{value:"Kode MAK"}),a(p,{type:"text",class:"mt-1 block w-full",modelValue:t(i).mak_code,"onUpdate:modelValue":e[9]||(e[9]=o=>t(i).mak_code=o)},null,8,["modelValue"]),a(d,{value:"Jumlah Hari Kerja",class:"mt-5"}),a(p,{type:"number",class:"mt-1 block w-full",modelValue:t(i).days,"onUpdate:modelValue":e[10]||(e[10]=o=>t(i).days=o),onInput:e[11]||(e[11]=o=>B(o.target.value))},null,8,["modelValue"]),l("div",ae,[a(d,{value:"Tanggal Mulai"}),a(d,{value:"Tanggal Selesai",class:"pb-0 mb-0"}),a(t(x),{modelValue:t(i).start,"onUpdate:modelValue":[e[12]||(e[12]=o=>t(i).start=o),e[13]||(e[13]=o=>B(t(i).days))],enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),t(i).end?(r(),u("div",se,c(t(i).end),1)):(r(),u("div",re,"Atur Tanggal Mulai"))]),l("div",ne,[l("button",{onClick:e[14]||(e[14]=o=>T(s.procurement.id)),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat SPK")])])])])):b("",!0),s.procurement.contract.no_spk||s.procurement.estimate.total<=5e7?(r(),u("div",de,[s.procurement.contract.no_sp?(r(),u("a",{key:0,href:n.route("kontrak.document.sp",s.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},c(s.procurement.category=="Barang"?"SPP":"SPMK"),9,ie)):(r(),u("label",ue,"Buat "+c(s.procurement.category=="Barang"?"SPP":"SPMK"),1)),v(l("input",{type:"checkbox",id:"sp",class:"modal-toggle","onUpdate:modelValue":e[15]||(e[15]=o=>t(g).modal=o)},null,512),[[P,t(g).modal]]),l("label",me,[l("label",ce,[be,a(h,{title:s.procurement.category=="Barang"?"Surat Perintah Pengiriman":"Surat Perintah Mulai Kerja",widthSize:100},null,8,["title"]),a(d,{value:"Nomor",class:"mt-10"}),a(p,{type:"text",class:"mt-1 block w-full",modelValue:t(g).no_sp,"onUpdate:modelValue":e[16]||(e[16]=o=>t(g).no_sp=o)},null,8,["modelValue"]),a(d,{value:"Tanggal"}),a(t(x),{modelValue:t(g).date_sp,"onUpdate:modelValue":e[17]||(e[17]=o=>t(g).date_sp=o),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),l("div",pe,[l("button",{onClick:e[18]||(e[18]=o=>U(s.procurement.id)),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat "+c(s.procurement.category=="Barang"?"SPP":"SPMK"),1)])])])])):b("",!0)])]),_:1})):b("",!0),s.procurement.contract.no_sp?(r(),V(S,{key:2},{default:y(()=>[a(h,{title:"Berita Acara",widthSize:"60"}),l("div",fe,[s.procurement.contract.no_sp?(r(),u("div",ke,[s.procurement.contract.no_bap?(r(),u("a",{key:0,href:n.route("kontrak.document.bap",s.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAHP",8,ge)):(r(),u("label",he,"Buat BAHP")),v(l("input",{type:"checkbox",id:"bap",class:"modal-toggle","onUpdate:modelValue":e[19]||(e[19]=o=>t(k).modal=o)},null,512),[[P,t(k).modal]]),l("label",ye,[l("label",ve,[xe,a(h,{title:"Berita Acara Hasil Pemeriksaan",widthSize:100}),a(d,{value:"Nomor",class:"mt-10"}),a(p,{type:"text",class:"mt-1 block w-full",modelValue:t(k).no_bap,"onUpdate:modelValue":e[20]||(e[20]=o=>t(k).no_bap=o)},null,8,["modelValue"]),a(d,{value:"Tanggal"}),a(t(x),{modelValue:t(k).date_bap,"onUpdate:modelValue":e[21]||(e[21]=o=>t(k).date_bap=o),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),l("div",we,[l("button",{onClick:e[22]||(e[22]=o=>M(s.procurement.id)),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat BAP")])])])])):b("",!0),s.procurement.contract.no_bap?(r(),u("div",Ve,[s.procurement.contract.no_bastp?(r(),u("a",{key:0,href:n.route("kontrak.document.bastp",s.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAST",8,Pe)):(r(),u("label",Se,"Buat BAST")),v(l("input",{type:"checkbox",id:"bastp",class:"modal-toggle","onUpdate:modelValue":e[23]||(e[23]=o=>t(f).modal=o)},null,512),[[P,t(f).modal]]),l("label",Be,[l("label",_e,[Te,a(h,{title:"Berita Acara Serah Terima",widthSize:100}),a(d,{value:"Nomor",class:"mt-10"}),a(p,{type:"text",class:"mt-1 block w-full",modelValue:t(f).no_bastp,"onUpdate:modelValue":e[24]||(e[24]=o=>t(f).no_bastp=o)},null,8,["modelValue"]),a(d,{value:"Tanggal"}),a(t(x),{modelValue:t(f).date_bastp,"onUpdate:modelValue":e[25]||(e[25]=o=>t(f).date_bastp=o),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),l("div",je,[l("button",{onClick:e[26]||(e[26]=o=>j(s.procurement.id)),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat BASTP")])])])])):b("",!0)])]),_:1})):b("",!0)])]),_:1},8,["procurement"]))}};export{Je as default};
