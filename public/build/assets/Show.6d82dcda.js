import{u as w,o as n,c as S,w as V,U as k,V as M,d as e,a as r,e as d,a3 as v,b as l,t as m,F as $,H as j,g as x}from"./app.cbadd5a6.js";import{_ as z}from"./Show.c54a1540.js";import{_ as N}from"./Container.3c236ea6.js";import{_ as y}from"./Input.d60ea0ad.js";import{_ as g}from"./Header1.4d5ae8c0.js";import{_ as p}from"./Label.b7ad9dd1.js";import{N as G}from"./Notification.1138f49b.js";import{d as A}from"./main.ab9d0f21.js";import"./Master.83d66d13.js";import"./index.5ef1a72a.js";import"./moment.9709ab41.js";import"./sweetalert2.all.2b313f34.js";const I=["href"],q={class:"flex mt-10"},L={class:"grid grid-rows-4 grid-flow-col gap-x-3"},O={key:0},D=e("label",{for:"offer",class:"btn w-full mt-3 border-first modal-button bg-first"},"Unggah Penawaran",-1),Q={for:"offer",class:"modal cursor-pointer"},J={class:"modal-box relative",for:""},R=e("label",{for:"offer",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),W={class:"text-sm text-error mt-1 mb-5"},X={class:"text-sm text-error mt-1 mb-5"},Y={class:"text-sm text-error mt-1 mb-5"},Z={id:"listsuppliers"},ee={class:"text-sm text-error mt-1 mb-5"},te={class:"block"},oe=e("span",{class:"sr-only"},"Pilih File",-1),le={class:"text-sm text-error mt-1 mb-5"},se={class:"flex justify-center my-5"},re=["onClick"],ae={key:1},ne=["href"],ie={key:1,for:"baep",class:"btn w-full mt-3 border-first modal-button bg-first"},de={for:"baep",class:"modal cursor-pointer"},ce={class:"modal-box relative",for:""},fe=e("label",{for:"baep",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),ue={class:"text-sm text-error mt-1 mb-5"},be={class:"text-sm text-error mt-1 mb-5"},me={class:"text-sm text-error mt-1 mb-5"},pe={class:"flex justify-center my-5"},he=["onClick"],_e={key:2},ge=["href"],ke={key:1,for:"bakn",class:"btn w-full mt-3 border-first modal-button bg-first"},xe={for:"bakn",class:"modal cursor-pointer"},ye={class:"modal-box relative",for:""},ve=e("label",{for:"bakn",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),we={class:"text-sm text-error mt-1 mb-5"},Be={class:"flex justify-center my-5"},Ve=["onClick"],Ae={key:3},Pe=["href"],Ue={key:1,for:"BAHP",class:"btn w-full mt-3 border-first modal-button bg-first"},Se={for:"BAHP",class:"modal cursor-pointer"},Ne={class:"modal-box relative",for:""},Fe=e("label",{for:"BAHP",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),Ce={class:"text-sm text-error mt-1 mb-5"},He={class:"text-sm text-error mt-1 mb-5"},Te={class:"flex justify-center my-5"},Ee=["onClick"],Ke={class:"grid grid-rows-4 grid-flow-col gap-x-3"},Me=["href"],$e={key:0},je=["href"],ze={key:1,for:"filebaep",class:"btn w-full mt-3 border-first modal-button bg-first"},Ge={for:"filebaep",class:"modal cursor-pointer"},Ie={class:"modal-box relative",for:""},qe=e("label",{for:"filebaep",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),Le={class:"block mb-3 mt-10"},Oe=e("span",{class:"sr-only"},"Pilih File",-1),De={class:"flex justify-center my-5"},Qe=["onClick"],Je={key:1},Re=["href"],We={key:1,for:"filebakn",class:"btn w-full mt-3 border-first modal-button bg-first"},Xe={for:"filebakn",class:"modal cursor-pointer"},Ye={class:"modal-box relative",for:""},Ze=e("label",{for:"filebakn",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),et={class:"block"},tt=e("span",{class:"sr-only"},"Pilih File",-1),ot={class:"flex justify-center my-5"},lt=["onClick"],st={key:2},rt=["href"],at={key:1,for:"filebahp",class:"btn w-full mt-3 border-first modal-button bg-first"},nt={for:"filebahp",class:"modal cursor-pointer"},it={class:"modal-box relative",for:""},dt=e("label",{for:"filebahp",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),ct={class:"block"},ft=e("span",{class:"sr-only"},"Pilih File",-1),ut={class:"flex justify-center my-5"},bt=["onClick"],At={__name:"Show",props:{procurement:{type:Object,required:!0},suppliers:{type:Object,required:!0}},setup(s){const F=s,h=G(),i=w({status:4,no_offer:null,date_offer:null,offer:null,supplier:null,file_offer:null,modal:0,_method:"patch"}),u=w({status:1,no_bakn:null,days:null,date_bakn:null,modal:0,_method:"patch"}),_=w({status:2,no_bahp:null,date_bahp:null,modal:0,_method:"patch"}),f=w({status:3,no_baep:null,date_baep:null,correction:null,modal:0,_method:"patch"}),b=w({status:null,file_bakn:null,file_bahp:null,file_baep:null,modal1:0,modal2:0,modal3:0,_method:"patch"}),C=(c,o,a)=>{i.post(route("pp.procurement.update",c),{onSuccess:t=>{h("success","Berhasil Mengunggah Penawaran "+o),i.reset()},onError:t=>h("error","Gagal Mengunggah Penawaran "+o),onStart:()=>a(),onFinish:()=>a()})},H=(c,o,a)=>{u.post(route("pp.procurement.update",c),{onSuccess:t=>{h("success","Berhasil membuat BAKN "+o),u.reset()},onError:t=>h("error","Gagal membuat BAKN "+o),onStart:()=>a(),onFinish:()=>a()})},T=(c,o,a)=>{_.post(route("pp.procurement.update",c),{onSuccess:t=>{h("success","Berhasil membuat BAHP "+o),_.reset()},onError:t=>{h("error","Gagal membuat BAHP "+o),console.log(t)},onStart:()=>a(),onFinish:()=>a()})},E=(c,o,a)=>{f.post(route("pp.procurement.update",c),{onSuccess:t=>{console.log(t),h("success","Berhasil membuat BAE "+o),f.reset()},onError:t=>h("error","Gagal membuat BAE "+o),onStart:()=>a(),onFinish:()=>a()})},P=(c,o,a,t)=>{const U={4:"BAKN",5:"BAHP",6:"BAEP"};b.status=a,b.post(route("pp.procurement.update",c),{onSuccess:K=>{h("success","Berhasil unggah file "+U[a]+" "+o),b.reset()},onError:K=>h("error","Gagal unggah file "+U[a]+" "+o),onStart:()=>t(),onFinish:()=>t()})};function B(c,o){o==1?b.file_bakn=c.target.files:o==2?b.file_bahp=c.target.files:o==3?b.file_baep=c.target.files:o==4&&(i.file_offer=c.target.files)}return(c,o)=>(n(),S(z,{procurement:s.procurement},{file:V(()=>[k(e("a",{href:c.route("pp.document.boq",s.procurement.id),class:"btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"Lihat BOQ",8,I),[[M,s.procurement.timeline.hps_approved]])]),"extra-info":V(({loading:a})=>[e("div",q,[r(N,null,{default:V(()=>[r(g,{title:"Format Berkas",widthSize:"60"}),e("div",L,[s.procurement.contract.no_offer?x("",!0):(n(),d("div",O,[D,k(e("input",{type:"checkbox",id:"offer",class:"modal-toggle","onUpdate:modelValue":o[0]||(o[0]=t=>l(i).modal=t)},null,512),[[v,l(i).modal]]),e("label",Q,[e("label",J,[R,r(g,{title:"Penawaran Supplier",widthSize:"100"}),r(p,{value:"Nomor",class:"mt-10"}),r(y,{type:"text",class:"mt-1 block w-full",modelValue:l(i).no_offer,"onUpdate:modelValue":o[1]||(o[1]=t=>l(i).no_offer=t),status:l(i).errors.no_offer},null,8,["modelValue","status"]),e("div",W,m(l(i).errors.no_offer),1),r(p,{value:"Nilai Penawaran",class:"mt-5"}),r(y,{type:"text",class:"mt-1 block w-full",modelValue:l(i).offer,"onUpdate:modelValue":o[2]||(o[2]=t=>l(i).offer=t),status:l(i).errors.offer},null,8,["modelValue","status"]),e("div",X,m(l(i).errors.offer),1),r(p,{value:"Supplier",class:"mt-5"}),r(y,{type:"search",class:"block w-full",modelValue:l(i).supplier,"onUpdate:modelValue":o[3]||(o[3]=t=>l(i).supplier=t),status:l(i).errors.supplier,list:"listsuppliers"},null,8,["modelValue","status"]),e("div",Y,m(l(i).errors.supplier),1),e("datalist",Z,[(n(!0),d($,null,j(F.suppliers,t=>(n(),d("option",{key:t.id},m(t.name),1))),128))]),r(p,{value:"Tanggal"}),r(l(A),{modelValue:l(i).date_offer,"onUpdate:modelValue":o[4]||(o[4]=t=>l(i).date_offer=t),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),e("div",ee,m(l(i).errors.date_offer),1),e("label",te,[oe,e("input",{type:"file",class:"my-5 block w-full text-sm text-first file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-slate-200 file:text-first hover:file:bg-slate-300",accept:".pdf",onInput:o[5]||(o[5]=t=>B(t,4))},null,32)]),e("div",le,m(l(i).errors.file_offer),1),e("div",se,[e("button",{onClick:t=>C(s.procurement.id,s.procurement.name,a),class:"btn border-first bg-first mt-5 tracking-wide"},"Unggah",8,re)])])])])),s.procurement.contract.no_offer?(n(),d("div",ae,[s.procurement.contract.no_baep?(n(),d("a",{key:0,href:c.route("pp.document.baep",s.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAE",8,ne)):(n(),d("label",ie,"Buat BAE")),k(e("input",{type:"checkbox",id:"baep",class:"modal-toggle","onUpdate:modelValue":o[6]||(o[6]=t=>l(f).modal=t)},null,512),[[v,l(f).modal]]),e("label",de,[e("label",ce,[fe,r(g,{title:"Berita Acara Hasil Evaluasi",widthSize:"100"}),r(p,{value:"Nomor",class:"mt-10"}),r(y,{type:"text",class:"mt-1 block w-full",modelValue:l(f).no_baep,"onUpdate:modelValue":o[7]||(o[7]=t=>l(f).no_baep=t),status:l(f).errors.no_baep},null,8,["modelValue","status"]),e("div",ue,m(l(f).errors.no_baep),1),r(p,{value:"Nilai Koreksi",class:"mt-5"}),r(y,{type:"text",class:"mt-1 block w-full",modelValue:l(f).correction,"onUpdate:modelValue":o[8]||(o[8]=t=>l(f).correction=t),status:l(f).errors.correction},null,8,["modelValue","status"]),e("div",be,m(l(f).errors.correction),1),r(p,{value:"Tanggal"}),r(l(A),{modelValue:l(f).date_baep,"onUpdate:modelValue":o[9]||(o[9]=t=>l(f).date_baep=t),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),e("div",me,m(l(f).errors.date_baep),1),e("div",pe,[e("button",{onClick:t=>E(s.procurement.id,s.procurement.name,a),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat",8,he)])])])])):x("",!0),s.procurement.contract.no_baep?(n(),d("div",_e,[s.procurement.contract.no_bakn?(n(),d("a",{key:0,href:c.route("pp.document.bakn",s.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAKN",8,ge)):(n(),d("label",ke,"Buat BAKN")),k(e("input",{type:"checkbox",id:"bakn",class:"modal-toggle","onUpdate:modelValue":o[10]||(o[10]=t=>l(u).modal=t)},null,512),[[v,l(u).modal]]),e("label",xe,[e("label",ye,[ve,r(g,{title:"Berita Acara Klarifikasi dan Negosiasi",widthSize:"100"}),r(p,{value:"Nomor BAKN",class:"mt-10"}),r(y,{type:"text",class:"mt-1 block w-full",modelValue:l(u).no_bakn,"onUpdate:modelValue":o[11]||(o[11]=t=>l(u).no_bakn=t)},null,8,["modelValue"]),r(p,{value:"Masa Pekerjaan",class:"mt-5"}),r(y,{type:"text",class:"block w-full",status:l(u).errors.days,modelValue:l(u).days,"onUpdate:modelValue":o[12]||(o[12]=t=>l(u).days=t)},null,8,["status","modelValue"]),e("div",we,m(l(u).errors.days),1),r(p,{value:"Tanggal"}),r(l(A),{modelValue:l(u).date_bakn,"onUpdate:modelValue":o[13]||(o[13]=t=>l(u).date_bakn=t),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),e("div",Be,[e("button",{onClick:t=>H(s.procurement.id,s.procurement.name,a),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat BAKN",8,Ve)])])])])):x("",!0),s.procurement.contract.no_bakn?(n(),d("div",Ae,[s.procurement.contract.no_bahp?(n(),d("a",{key:0,href:c.route("pp.document.bahp",s.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAHP",8,Pe)):(n(),d("label",Ue,"Buat BAHP")),k(e("input",{type:"checkbox",id:"BAHP",class:"modal-toggle","onUpdate:modelValue":o[14]||(o[14]=t=>l(_).modal=t)},null,512),[[v,l(_).modal]]),e("label",Se,[e("label",Ne,[Fe,r(g,{title:"Berita Acara Hasil Pengadaan Langsung",widthSize:"100"}),r(p,{value:"Nomor",class:"mt-10"}),r(y,{type:"text",class:"mt-1 block w-full",modelValue:l(_).no_bahp,"onUpdate:modelValue":o[15]||(o[15]=t=>l(_).no_bahp=t),status:l(u).errors.no_bahp},null,8,["modelValue","status"]),e("div",Ce,m(l(_).errors.no_bahp),1),r(p,{value:"Tanggal"}),r(l(A),{modelValue:l(_).date_bahp,"onUpdate:modelValue":o[16]||(o[16]=t=>l(_).date_bahp=t),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),e("div",He,m(l(_).errors.date_bahp),1),e("div",Te,[e("button",{onClick:t=>T(s.procurement.id,s.procurement.name,a),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat BAHP",8,Ee)])])])])):x("",!0)])]),_:2},1024),s.procurement.contract.no_offer?(n(),S(N,{key:0,class:"ml-10"},{default:V(()=>[r(g,{title:"Berkas Fisik",widthSize:"60"}),e("div",Ke,[e("a",{href:s.procurement.contract.file_offer,class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"Penawaran",8,Me),s.procurement.contract.no_baep?(n(),d("div",$e,[s.procurement.contract.file_baep?(n(),d("a",{key:0,href:s.procurement.contract.file_baep,class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAE",8,je)):(n(),d("label",ze,"Unggah BAE")),k(e("input",{type:"checkbox",id:"filebaep",class:"modal-toggle","onUpdate:modelValue":o[17]||(o[17]=t=>l(b).modal3=t)},null,512),[[v,l(b).modal3]]),e("label",Ge,[e("label",Ie,[qe,r(g,{title:"Unggah File BAE",widthSize:"100"}),e("label",Le,[Oe,e("input",{type:"file",class:"block w-full text-sm text-first file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-slate-200 file:text-first hover:file:bg-slate-300",accept:".pdf",onInput:o[18]||(o[18]=t=>B(t,3))},null,32)]),e("div",De,[e("button",{onClick:t=>P(s.procurement.id,s.procurement.name,6,a),class:"btn border-first bg-first mt-5 tracking-wide"},"Unggah",8,Qe)])])])])):x("",!0),s.procurement.contract.no_bakn?(n(),d("div",Je,[s.procurement.contract.file_bakn?(n(),d("a",{key:0,href:s.procurement.contract.file_bakn,class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAKN",8,Re)):(n(),d("label",We,"Unggah BAKN")),k(e("input",{type:"checkbox",id:"filebakn",class:"modal-toggle","onUpdate:modelValue":o[19]||(o[19]=t=>l(b).modal1=t)},null,512),[[v,l(b).modal1]]),e("label",Xe,[e("label",Ye,[Ze,r(g,{title:"Unggah File BAKN",widthSize:"100"}),e("label",et,[tt,e("input",{type:"file",class:"my-5 block w-full text-sm text-first file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-slate-200 file:text-first hover:file:bg-slate-300",accept:".pdf",onInput:o[20]||(o[20]=t=>B(t,1))},null,32)]),e("div",ot,[e("button",{onClick:t=>P(s.procurement.id,s.procurement.name,4,a),class:"btn border-first bg-first mt-5 tracking-wide"},"Unggah",8,lt)])])])])):x("",!0),s.procurement.contract.no_bahp?(n(),d("div",st,[s.procurement.contract.file_bahp?(n(),d("a",{key:0,href:s.procurement.contract.file_bahp,class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAHP",8,rt)):(n(),d("label",at,"Unggah BAHP")),k(e("input",{type:"checkbox",id:"filebahp",class:"modal-toggle","onUpdate:modelValue":o[21]||(o[21]=t=>l(b).modal2=t)},null,512),[[v,l(b).modal2]]),e("label",nt,[e("label",it,[dt,r(g,{title:"Unggah File BAHP",widthSize:"100"}),e("label",ct,[ft,e("input",{type:"file",class:"my-5 block w-full text-sm text-first file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-slate-200 file:text-first hover:file:bg-slate-300",accept:".pdf",onInput:o[22]||(o[22]=t=>B(t,2))},null,32)]),e("div",ut,[e("button",{onClick:t=>P(s.procurement.id,s.procurement.name,5,a),class:"btn border-first bg-first mt-5 tracking-wide"},"Unggah",8,bt)])])])])):x("",!0)])]),_:2},1024)):x("",!0)])]),_:1},8,["procurement"]))}};export{At as default};
