import{_ as D}from"./Master.83d66d13.js";import{_ as b}from"./Container.3c236ea6.js";import{_ as f}from"./Header1.4d5ae8c0.js";import{C as j,p as C,a as A,B as L,b as N,L as T,D as R,d as S}from"./dashboard.00611658.js";import{u as V,o as u,c as E,w as n,a as s,b as o,d as a,e as c,t as p,f as x,L as K,r as m}from"./app.cbadd5a6.js";import{h as $}from"./moment.9709ab41.js";const z={class:"flex justify-between items-center h-screen mt-10"},F={class:"w-6/12"},J={key:0,class:"w-6/12 ml-5"},M={class:"flex justify-between"},O={key:0},H={key:1},I=x("Lihat"),G={key:1,class:"w-5/12 text-right"},U=a("div",{class:"flex justify-end"},[a("div",{class:"text-right text-4xl font-extrabold tracking-widest text-first drop-shadow-xl flex"},"Pengadaan"),a("span",{class:"flex h-5 w-5 relative justify-center items-center"},[a("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-error opacity-75 delay-200"}),a("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-none border-error border-2 border-solid delay-75"}),a("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-none border-error border-2 border-solid"}),a("span",{class:"right-0 relative inline-flex rounded-full h-3 w-3 bg-error"})])],-1),W=a("div",{class:"text-right mr-5 text-4xl font-extrabold mb-5 tracking-widest text-first drop-shadow-xl"},"Barang dan Jasa",-1),X=a("div",{class:"text-lg tracking-wide leading-7"},"adalah kegiatan Pengadaan Barang / Jasa oleh Kementerian / Lembaga / Perangkat Daerah yang dibiayai oleh APBN/APBD yang prosesnya sejak identifikasi kebutuhan, sampai dengan serah terima hasil pekerjaan.",-1),Z=[U,W,X],se={__name:"Index",props:{procurements:{type:Object},groupedProc:{type:Object},width:{type:Number,default:200},height:{type:Number,default:300}},setup(g){const h=g;j.register(C,A,L,N,T);function _(e){for(var t="",r=e.toString().split("").reverse().join(""),i=0;i<r.length;i++)i%3==0&&(t+=r.substr(i,3)+".");return"Rp. "+t.split("",t.length-1).reverse().join("")}function k(e){var t=[];for(let r=1;r<11;r++)e[r]?t.push(e[r].length):t.push(0);return t}const d=V({preview:null,start:null,end:null,month:null,year:null,error:"",error2:"",show:0}),v=["Unggah Gambar","Mengajukan RAB","RAB Ditolak","RAB Disetujui","Pembuatan HPS","Penetapan HPS","Proses PP","Proses Kontrak","Pengadaan Selesai"],w={labels:[1,2,3,4,5,6,7,8,9],datasets:[{label:"Total",backgroundColor:["rgb(207,250,254, 0.4)","rgb(255,255,152, 0.3)","rgb(186,230,253, 0.2)","rgb(165,243,252, 0.3)","rgb(103,232,249, 0.3)","rgb(255,255,152, 0.6)","rgb(34,211,238, 0.3)","rgb(56,189,248, 0.4)"],borderColor:["rgb(207,250,254, 0.9)","rgb(255,231,138, 0.6)","rgb(186,230,253, 0.4)","rgb(165,243,252, 0.4)","rgb(103,232,249, 0.4)","rgb(255,231,138, 0.6)","rgb(34,211,238, 0.4)","rgb(56,189,248, 0.4)"],borderWidth:2,borderRadius:5,data:k(h.groupedProc)}]},y={responsive:!0,maintainAspectRatio:!1,scales:{y:{ticks:{beginAtZero:!0,callback:function(e){if(e%1===0)return e}},title:{text:"Total",display:!0}},x:{ticks:{},title:{text:"Fase Pengadaan",display:!0}}},plugins:{tooltip:{callbacks:{title:function(e){return v[e[0].dataIndex]},label:function(e){return"Total : "+e.formattedValue},afterFooter:function(){return"Klik untuk melihat"}}}},parsing:{xAxisKey:"id"},onClick:(e,t)=>{console.log(t,h.groupedProc),d.preview=h.groupedProc[t[0].index+1],d.show=1}},P=[{text:"Tanggal",value:"date",sortable:!0},{text:"Judul Paket",value:"name",sortable:!0},{text:"Nomor Akun",value:"account",sortable:!0},{text:"Nilai RAB",value:"total",sortable:!0},{text:"aksi",value:"aksi"}];return(e,t)=>{const r=m("Vue3Lottie"),i=m("EasyDataTable");return u(),E(D,null,{default:n(({loading:B})=>[s(r,{animationData:o(R),height:450,width:700},null,8,["animationData"]),a("div",z,[a("div",F,[s(f,{title:"Status Pengadaan","width-size":"100",class:""}),s(b,null,{default:n(()=>[s(o(S),{"chart-options":y,"chart-data":w,width:g.width,height:g.height},null,8,["width","height"])]),_:1})]),o(d).preview?(u(),c("div",J,[a("div",M,[s(f,{title:"Daftar Pengadaan","width-size":"100"}),a("button",{onClick:t[0]||(t[0]=()=>o(d).preview=null),class:"btn btn-sm text-first bg-slate-200 border-none hover:text-white hover:bg-first font-bold"},"X")]),s(b,null,{default:n(()=>[s(i,{headers:P,items:o(d).preview,"table-class-name":"customize-table",sortBy:"status",sortType:"asc","rows-per-page":5,maxPaginationNumber:10,"buttons-pagination":""},{"item-date":n(({date:l})=>[l?(u(),c("div",O,p(o($)(l).format("DD-MM-yy")),1)):(u(),c("div",H,"---"))]),"item-total":n(({total:l})=>[x(p(_(l)),1)]),"item-aksi":n(({id:l})=>[s(o(K),{onClick:q=>B(),href:e.route("unit.procurement.show",l),class:"btn btn-xs text-first bg-slate-200 border-none hover:text-white hover:bg-first font-bold"},{default:n(()=>[I]),_:2},1032,["onClick","href"])]),_:2},1032,["items"])]),_:2},1024)])):(u(),c("div",G,Z))])]),_:1})}}};export{se as default};
