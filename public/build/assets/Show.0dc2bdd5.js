import{u as x,o as l,c as V,w as B,U as v,V as $,d as o,a,t as i,g as u,e as n,a3 as w,b as t}from"./app.df3260cc.js";import{_ as z}from"./Show.6475b174.js";import{_ as m}from"./Label.e165355e.js";import{_ as y}from"./Input.fb425392.js";import{_ as g}from"./Header1.119769ea.js";import{d as P}from"./main.02f154ce.js";import{_ as S}from"./Container.dd8793cc.js";import{h as Y}from"./moment.9709ab41.js";import{N as D}from"./Notification.4676e2e4.js";import"./Master.1f615f96.js";import"./index.fb6969b9.js";import"./sweetalert2.all.8e66ff63.js";const E=["href"],G={class:"flex gap-4 mt-10"},J={class:"font-bold text-lg tracking-wider mb-3"},q={class:"font-bold text-lg tracking-wider mb-3"},F={class:"font-bold text-lg tracking-wider mb-3"},O={class:"font-bold text-lg tracking-wider mb-3"},H={class:"grid grid-rows-4 grid-flow-col gap-x-3"},L={key:0},Q=["href"],R={key:1,for:"sppbj",class:"btn w-full border-first modal-button bg-first"},W={for:"sppbj",class:"modal cursor-pointer"},I={class:"modal-box relative",for:""},X=o("label",{for:"sppbj",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),Z={key:0,class:"text-sm text-error mt-1 mb-4"},tt={key:1,class:"text-sm text-error mt-1 mb-4"},et={key:2,class:"text-sm text-error mt-1 mb-4"},ot={class:"flex justify-center my-5"},st=["onClick"],rt={key:1},at=["href"],lt={key:1,for:"spk",class:"btn w-full mt-3 border-first modal-button bg-first"},nt={for:"spk",class:"modal cursor-pointer"},dt={class:"modal-box relative",for:""},it=o("label",{for:"spk",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),ut={key:0,class:"text-sm text-error mt-1 mb-4"},ct={key:1,class:"text-sm text-error mt-1 mb-4"},mt={class:"font-bold mb-5"},bt={class:"grid grid-flow-row-dense grid-cols-2 grid-rows-2 gap-x-4"},pt={key:0},ft={key:1,class:"text-secondary font-bold"},kt={key:2,class:"text-sm text-error mt-1 mb-4"},ht={class:"flex justify-center my-5"},_t=["onClick"],gt={key:2},yt=["href"],vt={key:1,for:"sp",class:"btn w-full mt-3 border-first modal-button bg-first"},xt={for:"sp",class:"modal cursor-pointer"},wt={class:"modal-box relative",for:""},Pt=o("label",{for:"sp",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),Bt={key:0,class:"text-sm text-error mt-1 mb-4"},Vt={key:1,class:"text-sm text-error mt-1 mb-4"},St={class:"flex justify-center my-5"},jt=["onClick"],Tt={class:"grid grid-rows-4 grid-flow-col gap-x-3"},Mt={key:0},Ut=["href"],At={key:1,for:"bap",class:"btn w-full mt-3 border-first modal-button bg-first"},Kt={for:"bap",class:"modal cursor-pointer"},Ct={class:"modal-box relative",for:""},Nt=o("label",{for:"bap",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),$t={key:0,class:"text-sm text-error mt-1 mb-4"},zt={key:1,class:"text-sm text-error mt-1 mb-4"},Yt={class:"flex justify-center my-5"},Dt=["onClick"],Et={key:1},Gt=["href"],Jt={key:1,for:"bastp",class:"btn w-full mt-3 border-first modal-button bg-first"},qt={for:"bastp",class:"modal cursor-pointer"},Ft={class:"modal-box relative",for:""},Ot=o("label",{for:"bastp",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),Ht={key:0,class:"text-sm text-error mt-1 mb-4"},Lt={key:1,class:"text-sm text-error mt-1 mb-4"},Qt={class:"flex justify-center my-5"},Rt={key:2},Wt=["href"],It={key:1,for:"bp",class:"btn w-full mt-3 border-first modal-button bg-first"},Xt={for:"bp",class:"modal cursor-pointer"},Zt={class:"modal-box relative",for:""},te=o("label",{for:"bp",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),ee={key:0,class:"text-sm text-error mt-1 mb-4"},oe={key:1,class:"text-sm text-error mt-1 mb-4"},se={class:"flex justify-center my-5"},he={__name:"Show",props:{procurement:{type:Object,required:!0}},setup(r){const j=r,_=D(),b=x({status:1,no_sppbj:"",purpose_sppbj:"",date_sppbj:null,modal:0,_method:"patch"}),d=x({status:2,no_spk:"",mak_code:"",start:null,days:j.procurement.contract.days,end:null,modal:0,_method:"patch"}),p=x({status:3,no_bastp:"",date_bastp:null,modal:0,_method:"patch"}),f=x({status:4,no_bap:"",date_bap:null,modal:0,_method:"patch"}),k=x({status:5,no_sp:"",paket_sp:"",date_sp:null,modal:0,_method:"patch"}),h=x({status:6,no_bp:"",date_bp:null,modal:0,_method:"patch"}),T=c=>{h.post(route("kontrak.procurement.update",c),{onSuccess:e=>{_("success","Berhasil membuat BP"),h.reset()},onError:e=>{console.log(e),_("error","Gagal membuat BP")}})},M=c=>{b.post(route("kontrak.procurement.update",c),{onSuccess:e=>{_("success","Berhasil membuat SPPBJ"),b.reset()},onError:e=>{console.log(e),_("error","Gagal membuat BP")}})},U=c=>{d.post(route("kontrak.procurement.update",c),{onSuccess:e=>{_("success","Berhasil membuat SPK"),d.reset()},onError:e=>{console.log(e),_("error","Gagal membuat SPK")}})},A=c=>{p.post(route("kontrak.procurement.update",c),{onSuccess:e=>{_("success","Berhasil membuat BAST"),p.reset()},onError:e=>{console.log(e),_("error","Gagal membuat BAST")}})},K=c=>{f.post(route("kontrak.procurement.update",c),{onSuccess:e=>{_("success","Berhasil membuat BAP"),f.reset()},onError:e=>{console.log(e),_("error","Gagal membuat BAP")}})},C=c=>{k.post(route("kontrak.procurement.update",c),{onSuccess:e=>{_("success","Berhasil membuat SP"),k.reset()},onError:e=>{console.log(e),_("error","Gagal membuat SP")}})},N=c=>{console.log("masuk");const e=Y(d.start,"MM-DD-YYYY").add(c,"days").format("DD-MM-YYYY");d.days=c,d.end=e};return(c,e)=>(l(),V(z,{procurement:r.procurement},{file:B(()=>[v(o("a",{href:c.route("kontrak.document.boq",r.procurement.id),class:"btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"Lihat BOQ",8,E),[[$,r.procurement.hps_submitted]])]),"extra-info":B(({loading:re})=>[o("div",G,[r.procurement.suppliers.province?(l(),V(S,{key:0},{default:B(()=>[o("div",null,[a(g,{title:"Data Supplier",widthSize:"60"}),a(m,{value:"Nama",class:"mt-5"}),o("p",J,[o("span",null,i(r.procurement.suppliers.entity)+". "+i(r.procurement.suppliers.name),1)]),a(m,{value:"NPWP",class:"mt-5"}),o("p",q,[o("span",null,i(r.procurement.suppliers.npwp),1)]),a(m,{value:"Alamat"}),o("p",F,[o("span",null,i(r.procurement.suppliers.address+", "+r.procurement.suppliers.regency+", "+r.procurement.suppliers.province),1)]),a(m,{value:"Rekening"}),o("p",O,[o("span",null,i(r.procurement.suppliers.bank)+" "+i(r.procurement.suppliers.account),1)])])]),_:1})):u("",!0),r.procurement.suppliers.province?(l(),V(S,{key:1},{default:B(()=>[a(g,{title:"File Kontrak",widthSize:"60"}),o("div",H,[r.procurement.estimate.total>=5e7?(l(),n("div",L,[r.procurement.contract.no_sppbj?(l(),n("a",{key:0,href:c.route("kontrak.document.sppbj",r.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"SPPBJ",8,Q)):(l(),n("label",R,"Buat SPPBJ")),v(o("input",{type:"checkbox",id:"sppbj",class:"modal-toggle","onUpdate:modelValue":e[0]||(e[0]=s=>t(b).modal=s)},null,512),[[w,t(b).modal]]),o("label",W,[o("label",I,[X,a(g,{title:"Surat Penunjukan Penyedia Barang/Jasa",widthSize:100}),a(m,{value:"Nomor SPPBJ",class:"mt-10"}),a(y,{type:"text",class:"mt-1 block w-full",modelValue:t(b).no_sppbj,"onUpdate:modelValue":e[1]||(e[1]=s=>t(b).no_sppbj=s),status:t(b).errors.no_sppbj},null,8,["modelValue","status"]),t(b).errors.no_sppbj?(l(),n("div",Z,i(t(b).errors.no_sppbj),1)):u("",!0),a(m,{value:"Prihal"}),a(y,{type:"text",class:"mt-1 block w-full",modelValue:t(b).purpose_sppbj,"onUpdate:modelValue":e[2]||(e[2]=s=>t(b).purpose_sppbj=s),status:t(b).errors.purpose_sppbj},null,8,["modelValue","status"]),t(b).errors.purpose_sppbj?(l(),n("div",tt,i(t(b).errors.purpose_sppbj),1)):u("",!0),a(m,{value:"Tanggal SPPBJ"}),a(t(P),{modelValue:t(b).date_sppbj,"onUpdate:modelValue":e[3]||(e[3]=s=>t(b).date_sppbj=s),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),t(b).errors.date_sppbj?(l(),n("div",et,i(t(b).errors.date_sppbj),1)):u("",!0),o("div",ot,[o("button",{onClick:s=>M(r.procurement.id),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat",8,st)])])])])):u("",!0),r.procurement.contract.no_sppbj&&r.procurement.estimate.total>=5e7?(l(),n("div",rt,[r.procurement.contract.no_spk?(l(),n("a",{key:0,href:c.route("kontrak.document.spk",r.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"SPK",8,at)):(l(),n("label",lt,"Buat SPK")),v(o("input",{type:"checkbox",id:"spk",class:"modal-toggle","onUpdate:modelValue":e[4]||(e[4]=s=>t(d).modal=s)},null,512),[[w,t(d).modal]]),o("label",nt,[o("label",dt,[it,a(g,{title:"Surat Perintah Kerja",widthSize:100}),a(m,{value:"Nomor SPK",class:"mt-10"}),a(y,{type:"text",class:"mt-1 block w-full",modelValue:t(d).no_spk,"onUpdate:modelValue":e[5]||(e[5]=s=>t(d).no_spk=s),status:t(d).errors.no_spk},null,8,["modelValue","status"]),t(d).errors.no_spk?(l(),n("div",ut,i(t(d).errors.no_spk),1)):u("",!0),a(m,{value:"Kode MAK"}),a(y,{type:"text",class:"mt-1 block w-full",modelValue:t(d).mak_code,"onUpdate:modelValue":e[6]||(e[6]=s=>t(d).mak_code=s),status:t(d).errors.mak_code},null,8,["modelValue","status"]),t(d).errors.mak_code?(l(),n("div",ct,i(t(d).errors.mak_code),1)):u("",!0),a(m,{value:"Masa Kerja",class:"mt-5"}),o("div",mt,i(t(d).days)+" hari kalender",1),o("div",bt,[a(m,{value:"Tanggal Mulai"}),a(m,{value:"Tanggal Selesai",class:"pb-0 mb-0"}),a(t(P),{modelValue:t(d).start,"onUpdate:modelValue":[e[7]||(e[7]=s=>t(d).start=s),e[8]||(e[8]=s=>N(t(d).days))],enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),t(d).end?(l(),n("div",pt,i(t(d).end),1)):(l(),n("div",ft,"Atur Tanggal Mulai")),t(d).errors.end?(l(),n("div",kt,i(t(d).errors.end),1)):u("",!0)]),o("div",ht,[o("button",{onClick:s=>U(r.procurement.id),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat",8,_t)])])])])):u("",!0),r.procurement.contract.no_spk||r.procurement.estimate.total<=5e7?(l(),n("div",gt,[r.procurement.contract.no_sp?(l(),n("a",{key:0,href:c.route("kontrak.document.sp",r.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},i(r.procurement.category=="Barang"?"SPP":"SPMK"),9,yt)):(l(),n("label",vt,"Buat "+i(r.procurement.category=="Barang"?"SPP":"SPMK"),1)),v(o("input",{type:"checkbox",id:"sp",class:"modal-toggle","onUpdate:modelValue":e[9]||(e[9]=s=>t(k).modal=s)},null,512),[[w,t(k).modal]]),o("label",xt,[o("label",wt,[Pt,a(g,{title:r.procurement.category=="Barang"?"Surat Perintah Pengiriman":"Surat Perintah Mulai Kerja",widthSize:100},null,8,["title"]),a(m,{value:"Nomor",class:"mt-10"}),a(y,{type:"text",class:"mt-1 block w-full",modelValue:t(k).no_sp,"onUpdate:modelValue":e[10]||(e[10]=s=>t(k).no_sp=s),status:t(k).errors.no_sp},null,8,["modelValue","status"]),t(k).errors.no_sp?(l(),n("div",Bt,i(t(k).errors.no_sp),1)):u("",!0),a(m,{value:"Tanggal"}),a(t(P),{modelValue:t(k).date_sp,"onUpdate:modelValue":e[11]||(e[11]=s=>t(k).date_sp=s),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),t(k).errors.date_sp?(l(),n("div",Vt,i(t(k).errors.date_sp),1)):u("",!0),o("div",St,[o("button",{onClick:s=>C(r.procurement.id),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat "+i(r.procurement.category=="Barang"?"SPP":"SPMK"),9,jt)])])])])):u("",!0)])]),_:2},1024)):u("",!0),r.procurement.contract.no_sp?(l(),V(S,{key:2},{default:B(()=>[a(g,{title:"Berita Acara",widthSize:"60"}),o("div",Tt,[r.procurement.contract.no_sp?(l(),n("div",Mt,[r.procurement.contract.no_bap?(l(),n("a",{key:0,href:c.route("kontrak.document.bap",r.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAP",8,Ut)):(l(),n("label",At,"Buat BAP")),v(o("input",{type:"checkbox",id:"bap",class:"modal-toggle","onUpdate:modelValue":e[12]||(e[12]=s=>t(f).modal=s)},null,512),[[w,t(f).modal]]),o("label",Kt,[o("label",Ct,[Nt,a(g,{title:"Berita Acara Hasil Pemeriksaan",widthSize:100}),a(m,{value:"Nomor",class:"mt-10"}),a(y,{type:"text",class:"mt-1 block w-full",modelValue:t(f).no_bap,"onUpdate:modelValue":e[13]||(e[13]=s=>t(f).no_bap=s),status:t(f).errors.no_bap},null,8,["modelValue","status"]),t(f).errors.no_bap?(l(),n("div",$t,i(t(f).errors.no_bap),1)):u("",!0),a(m,{value:"Tanggal"}),a(t(P),{modelValue:t(f).date_bap,"onUpdate:modelValue":e[14]||(e[14]=s=>t(f).date_bap=s),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),t(f).errors.date_bap?(l(),n("div",zt,i(t(f).errors.date_bap),1)):u("",!0),o("div",Yt,[o("button",{onClick:s=>K(r.procurement.id),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat BAP",8,Dt)])])])])):u("",!0),r.procurement.contract.no_bap?(l(),n("div",Et,[r.procurement.contract.no_bastp?(l(),n("a",{key:0,href:c.route("kontrak.document.bastp",r.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAST",8,Gt)):(l(),n("label",Jt,"Buat BAST")),v(o("input",{type:"checkbox",id:"bastp",class:"modal-toggle","onUpdate:modelValue":e[15]||(e[15]=s=>t(p).modal=s)},null,512),[[w,t(p).modal]]),o("label",qt,[o("label",Ft,[Ot,a(g,{title:"Berita Acara Serah Terima",widthSize:100}),a(m,{value:"Nomor",class:"mt-10"}),a(y,{type:"text",class:"mt-1 block w-full",modelValue:t(p).no_bastp,"onUpdate:modelValue":e[16]||(e[16]=s=>t(p).no_bastp=s),status:t(p).errors.no_bastp},null,8,["modelValue","status"]),t(p).errors.no_bastp?(l(),n("div",Ht,i(t(p).errors.no_bastp),1)):u("",!0),a(m,{value:"Tanggal"}),a(t(P),{modelValue:t(p).date_bastp,"onUpdate:modelValue":e[17]||(e[17]=s=>t(p).date_bastp=s),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),t(p).errors.date_bastp?(l(),n("div",Lt,i(t(p).errors.date_bastp),1)):u("",!0),o("div",Qt,[o("button",{onClick:e[18]||(e[18]=s=>A(r.procurement.id)),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat")])])])])):u("",!0),r.procurement.contract.no_bastp?(l(),n("div",Rt,[r.procurement.contract.no_bp?(l(),n("a",{key:0,href:c.route("kontrak.document.bp",r.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BP",8,Wt)):(l(),n("label",It,"Buat BP")),v(o("input",{type:"checkbox",id:"bp",class:"modal-toggle","onUpdate:modelValue":e[19]||(e[19]=s=>t(h).modal=s)},null,512),[[w,t(h).modal]]),o("label",Xt,[o("label",Zt,[te,a(g,{title:"Berita Acara Pembayaran",widthSize:100}),a(m,{value:"Nomor",class:"mt-10"}),a(y,{type:"text",class:"mt-1 block w-full",modelValue:t(h).no_bp,"onUpdate:modelValue":e[20]||(e[20]=s=>t(h).no_bp=s),status:t(h).errors.no_bp},null,8,["modelValue","status"]),t(h).errors.no_bp?(l(),n("div",ee,i(t(h).errors.no_bp),1)):u("",!0),a(m,{value:"Tanggal"}),a(t(P),{modelValue:t(h).date_bp,"onUpdate:modelValue":e[21]||(e[21]=s=>t(h).date_bp=s),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),t(h).errors.date_bp?(l(),n("div",oe,i(t(h).errors.date_bp),1)):u("",!0),o("div",se,[o("button",{onClick:e[22]||(e[22]=s=>T(r.procurement.id)),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat")])])])])):u("",!0)])]),_:2},1024)):u("",!0)])]),_:1},8,["procurement"]))}};export{he as default};
