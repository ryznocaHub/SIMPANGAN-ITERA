import{u as w,o as a,c as S,w as V,U as k,V as M,d as e,a as s,e as i,a3 as v,b as l,t as m,F as $,H as j,g as y}from"./app.35366383.js";import{_ as z}from"./Show.a90af79b.js";import{_ as N}from"./Container.fd7110e0.js";import{_ as x}from"./Input.d1f1fc38.js";import{_}from"./Header1.57f707b5.js";import{_ as p}from"./Label.23df5a7a.js";import{N as G}from"./Notification.a0596bc5.js";import{d as A}from"./main.37a2185e.js";import"./Master.6e78ae6a.js";import"./index.4269f55c.js";import"./moment.9709ab41.js";import"./sweetalert2.all.995333e0.js";const I=["href"],L={class:"flex mt-10"},q={class:"grid grid-rows-4 grid-flow-col gap-x-3"},D={key:0},O=e("label",{for:"offer",class:"btn w-full mt-3 border-first modal-button bg-first"},"Unggah Penawaran",-1),Q={for:"offer",class:"modal cursor-pointer"},J={class:"modal-box relative",for:""},R=e("label",{for:"offer",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),W={class:"text-sm text-error mt-1 mb-5"},X={class:"text-sm text-error mt-1 mb-5"},Y={class:"text-sm text-error mt-1 mb-5"},Z={id:"listsuppliers"},ee={class:"text-sm text-error mt-1 mb-5"},te={class:"block"},oe=e("span",{class:"sr-only"},"Pilih File",-1),le={class:"text-sm text-error mt-1 mb-5"},re={class:"flex justify-center my-5"},se=["onClick"],ae={key:1},ne=["href"],ie={key:1,for:"baep",class:"btn w-full mt-3 border-first modal-button bg-first"},de={for:"baep",class:"modal cursor-pointer"},ce={class:"modal-box relative",for:""},fe=e("label",{for:"baep",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),ue={class:"text-sm text-error mt-1 mb-5"},be={class:"text-sm text-error mt-1 mb-5"},me={class:"text-sm text-error mt-1 mb-5"},pe={class:"flex justify-center my-5"},he=["onClick"],ge=["href"],_e={key:3},ke=["href"],xe={key:1,for:"bakn",class:"btn w-full mt-3 border-first modal-button bg-first"},ve={for:"bakn",class:"modal cursor-pointer"},ye={class:"modal-box relative",for:""},we=e("label",{for:"bakn",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),Be={class:"text-sm text-error mt-1 mb-5"},Ve={class:"flex justify-center my-5"},Ae=["onClick"],Pe={key:4},Ue=["href"],Se={key:1,for:"BAHP",class:"btn w-full mt-3 border-first modal-button bg-first"},Ne={for:"BAHP",class:"modal cursor-pointer"},Fe={class:"modal-box relative",for:""},Ce=e("label",{for:"BAHP",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),He={class:"text-sm text-error mt-1 mb-5"},Te={class:"text-sm text-error mt-1 mb-5"},Ee={class:"flex justify-center my-5"},Ke=["onClick"],Me={class:"grid grid-rows-4 grid-flow-col gap-x-3"},$e=["href"],je={key:0},ze=["href"],Ge={key:1,for:"filebaep",class:"btn w-full mt-3 border-first modal-button bg-first"},Ie={for:"filebaep",class:"modal cursor-pointer"},Le={class:"modal-box relative",for:""},qe=e("label",{for:"filebaep",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),De={class:"block mb-3 mt-10"},Oe=e("span",{class:"sr-only"},"Pilih File",-1),Qe={class:"flex justify-center my-5"},Je=["onClick"],Re={key:1},We=["href"],Xe={key:1,for:"filebakn",class:"btn w-full mt-3 border-first modal-button bg-first"},Ye={for:"filebakn",class:"modal cursor-pointer"},Ze={class:"modal-box relative",for:""},et=e("label",{for:"filebakn",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),tt={class:"block"},ot=e("span",{class:"sr-only"},"Pilih File",-1),lt={class:"flex justify-center my-5"},rt=["onClick"],st={key:2},at=["href"],nt={key:1,for:"filebahp",class:"btn w-full mt-3 border-first modal-button bg-first"},it={for:"filebahp",class:"modal cursor-pointer"},dt={class:"modal-box relative",for:""},ct=e("label",{for:"filebahp",class:"btn btn-xs border-first bg-first btn-circle absolute right-2 top-2"},"\u2715",-1),ft={class:"block"},ut=e("span",{class:"sr-only"},"Pilih File",-1),bt={class:"flex justify-center my-5"},mt=["onClick"],Pt={__name:"Show",props:{procurement:{type:Object,required:!0},suppliers:{type:Object,required:!0}},setup(r){const F=r,h=G(),d=w({status:4,no_offer:null,date_offer:null,offer:null,supplier:null,file_offer:null,modal:0,_method:"patch"}),u=w({status:1,no_bakn:null,days:null,date_bakn:null,modal:0,_method:"patch"}),g=w({status:2,no_bahp:null,date_bahp:null,modal:0,_method:"patch"}),f=w({status:3,no_baep:null,date_baep:null,correction:null,modal:0,_method:"patch"}),b=w({status:null,file_bakn:null,file_bahp:null,file_baep:null,modal1:0,modal2:0,modal3:0,_method:"patch"}),C=(c,o,n)=>{d.post(route("pp.procurement.update",c),{onSuccess:t=>{h("success","Berhasil Mengunggah Penawaran "+o),d.reset()},onError:t=>h("error","Gagal Mengunggah Penawaran "+o),onStart:()=>n(),onFinish:()=>n()})},H=(c,o,n)=>{u.post(route("pp.procurement.update",c),{onSuccess:t=>{h("success","Berhasil membuat BAKN "+o),u.reset()},onError:t=>h("error","Gagal membuat BAKN "+o),onStart:()=>n(),onFinish:()=>n()})},T=(c,o,n)=>{g.post(route("pp.procurement.update",c),{onSuccess:t=>{h("success","Berhasil membuat BAHP "+o),g.reset()},onError:t=>{h("error","Gagal membuat BAHP "+o),console.log(t)},onStart:()=>n(),onFinish:()=>n()})},E=(c,o,n)=>{f.post(route("pp.procurement.update",c),{onSuccess:t=>{console.log(t),h("success","Berhasil membuat BAE "+o),f.reset()},onError:t=>h("error","Gagal membuat BAE "+o),onStart:()=>n(),onFinish:()=>n()})},P=(c,o,n,t)=>{const U={4:"BAKN",5:"BAHP",6:"BAEP"};b.status=n,b.post(route("pp.procurement.update",c),{onSuccess:K=>{h("success","Berhasil unggah file "+U[n]+" "+o),b.reset()},onError:K=>h("error","Gagal unggah file "+U[n]+" "+o),onStart:()=>t(),onFinish:()=>t()})};function B(c,o){o==1?b.file_bakn=c.target.files:o==2?b.file_bahp=c.target.files:o==3?b.file_baep=c.target.files:o==4&&(d.file_offer=c.target.files)}return(c,o)=>(a(),S(z,{procurement:r.procurement},{file:V(()=>[k(e("a",{href:c.route("pp.document.boq",r.procurement.id),class:"btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"Lihat BOQ",8,I),[[M,r.procurement.timeline.hps_approved]])]),"extra-info":V(({loading:n})=>[e("div",L,[s(N,null,{default:V(()=>[s(_,{title:"Format Berkas",widthSize:"60"}),e("div",q,[r.procurement.contract.no_offer?y("",!0):(a(),i("div",D,[O,k(e("input",{type:"checkbox",id:"offer",class:"modal-toggle","onUpdate:modelValue":o[0]||(o[0]=t=>l(d).modal=t)},null,512),[[v,l(d).modal]]),e("label",Q,[e("label",J,[R,s(_,{title:"Penawaran Supplier",widthSize:"100"}),s(p,{value:"Nomor",class:"mt-10"}),s(x,{type:"text",class:"mt-1 block w-full",modelValue:l(d).no_offer,"onUpdate:modelValue":o[1]||(o[1]=t=>l(d).no_offer=t),status:l(d).errors.no_offer},null,8,["modelValue","status"]),e("div",W,m(l(d).errors.no_offer),1),s(p,{value:"Nilai Penawaran",class:"mt-5"}),s(x,{type:"text",class:"mt-1 block w-full",modelValue:l(d).offer,"onUpdate:modelValue":o[2]||(o[2]=t=>l(d).offer=t),status:l(d).errors.offer},null,8,["modelValue","status"]),e("div",X,m(l(d).errors.offer),1),s(p,{value:"Supplier",class:"mt-5"}),s(x,{type:"search",class:"block w-full",modelValue:l(d).supplier,"onUpdate:modelValue":o[3]||(o[3]=t=>l(d).supplier=t),status:l(d).errors.supplier,list:"listsuppliers"},null,8,["modelValue","status"]),e("div",Y,m(l(d).errors.supplier),1),e("datalist",Z,[(a(!0),i($,null,j(F.suppliers,t=>(a(),i("option",{key:t.id},m(t.name),1))),128))]),s(p,{value:"Tanggal"}),s(l(A),{modelValue:l(d).date_offer,"onUpdate:modelValue":o[4]||(o[4]=t=>l(d).date_offer=t),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),e("div",ee,m(l(d).errors.date_offer),1),e("label",te,[oe,e("input",{type:"file",class:"my-5 block w-full text-sm text-first file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-slate-200 file:text-first hover:file:bg-slate-300",accept:".pdf",onInput:o[5]||(o[5]=t=>B(t,4))},null,32)]),e("div",le,m(l(d).errors.file_offer),1),e("div",re,[e("button",{onClick:t=>C(r.procurement.id,r.procurement.name,n),class:"btn border-first bg-first mt-5 tracking-wide"},"Unggah",8,se)])])])])),r.procurement.contract.no_offer&&r.procurement.suppliers.province?(a(),i("div",ae,[r.procurement.contract.no_baep?(a(),i("a",{key:0,href:c.route("pp.document.baep",r.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAE",8,ne)):(a(),i("label",ie,"Buat BAE")),k(e("input",{type:"checkbox",id:"baep",class:"modal-toggle","onUpdate:modelValue":o[6]||(o[6]=t=>l(f).modal=t)},null,512),[[v,l(f).modal]]),e("label",de,[e("label",ce,[fe,s(_,{title:"Berita Acara Hasil Evaluasi",widthSize:"100"}),s(p,{value:"Nomor",class:"mt-10"}),s(x,{type:"text",class:"mt-1 block w-full",modelValue:l(f).no_baep,"onUpdate:modelValue":o[7]||(o[7]=t=>l(f).no_baep=t),status:l(f).errors.no_baep},null,8,["modelValue","status"]),e("div",ue,m(l(f).errors.no_baep),1),s(p,{value:"Nilai Koreksi",class:"mt-5"}),s(x,{type:"text",class:"mt-1 block w-full",modelValue:l(f).correction,"onUpdate:modelValue":o[8]||(o[8]=t=>l(f).correction=t),status:l(f).errors.correction},null,8,["modelValue","status"]),e("div",be,m(l(f).errors.correction),1),s(p,{value:"Tanggal"}),s(l(A),{modelValue:l(f).date_baep,"onUpdate:modelValue":o[9]||(o[9]=t=>l(f).date_baep=t),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),e("div",me,m(l(f).errors.date_baep),1),e("div",pe,[e("button",{onClick:t=>E(r.procurement.id,r.procurement.name,n),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat",8,he)])])])])):(a(),i("a",{key:2,href:c.route("supplier.edit",r.procurement.supplier_id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"Lengkapi Data Supplier",8,ge)),r.procurement.contract.no_baep?(a(),i("div",_e,[r.procurement.contract.no_bakn?(a(),i("a",{key:0,href:c.route("pp.document.bakn",r.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAKN",8,ke)):(a(),i("label",xe,"Buat BAKN")),k(e("input",{type:"checkbox",id:"bakn",class:"modal-toggle","onUpdate:modelValue":o[10]||(o[10]=t=>l(u).modal=t)},null,512),[[v,l(u).modal]]),e("label",ve,[e("label",ye,[we,s(_,{title:"Berita Acara Klarifikasi dan Negosiasi",widthSize:"100"}),s(p,{value:"Nomor BAKN",class:"mt-10"}),s(x,{type:"text",class:"mt-1 block w-full",modelValue:l(u).no_bakn,"onUpdate:modelValue":o[11]||(o[11]=t=>l(u).no_bakn=t)},null,8,["modelValue"]),s(p,{value:"Masa Pekerjaan",class:"mt-5"}),s(x,{type:"text",class:"block w-full",status:l(u).errors.days,modelValue:l(u).days,"onUpdate:modelValue":o[12]||(o[12]=t=>l(u).days=t)},null,8,["status","modelValue"]),e("div",Be,m(l(u).errors.days),1),s(p,{value:"Tanggal"}),s(l(A),{modelValue:l(u).date_bakn,"onUpdate:modelValue":o[13]||(o[13]=t=>l(u).date_bakn=t),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),e("div",Ve,[e("button",{onClick:t=>H(r.procurement.id,r.procurement.name,n),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat BAKN",8,Ae)])])])])):y("",!0),r.procurement.contract.no_bakn?(a(),i("div",Pe,[r.procurement.contract.no_bahp?(a(),i("a",{key:0,href:c.route("pp.document.bahp",r.procurement.id),class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAHP",8,Ue)):(a(),i("label",Se,"Buat BAHP")),k(e("input",{type:"checkbox",id:"BAHP",class:"modal-toggle","onUpdate:modelValue":o[14]||(o[14]=t=>l(g).modal=t)},null,512),[[v,l(g).modal]]),e("label",Ne,[e("label",Fe,[Ce,s(_,{title:"Berita Acara Hasil Pengadaan Langsung",widthSize:"100"}),s(p,{value:"Nomor",class:"mt-10"}),s(x,{type:"text",class:"mt-1 block w-full",modelValue:l(g).no_bahp,"onUpdate:modelValue":o[15]||(o[15]=t=>l(g).no_bahp=t),status:l(u).errors.no_bahp},null,8,["modelValue","status"]),e("div",He,m(l(g).errors.no_bahp),1),s(p,{value:"Tanggal"}),s(l(A),{modelValue:l(g).date_bahp,"onUpdate:modelValue":o[16]||(o[16]=t=>l(g).date_bahp=t),enableTimePicker:!1,format:"dd-MM-yyyy",selectText:"Pilih",cancelText:"Batal"},null,8,["modelValue"]),e("div",Te,m(l(g).errors.date_bahp),1),e("div",Ee,[e("button",{onClick:t=>T(r.procurement.id,r.procurement.name,n),class:"btn border-first bg-first mt-5 tracking-wide"},"Buat BAHP",8,Ke)])])])])):y("",!0)])]),_:2},1024),r.procurement.contract.no_offer?(a(),S(N,{key:0,class:"ml-10"},{default:V(()=>[s(_,{title:"Berkas Fisik",widthSize:"60"}),e("div",Me,[e("a",{href:r.procurement.contract.file_offer,class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"Penawaran",8,$e),r.procurement.contract.no_baep?(a(),i("div",je,[r.procurement.contract.file_baep?(a(),i("a",{key:0,href:r.procurement.contract.file_baep,class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAE",8,ze)):(a(),i("label",Ge,"Unggah BAE")),k(e("input",{type:"checkbox",id:"filebaep",class:"modal-toggle","onUpdate:modelValue":o[17]||(o[17]=t=>l(b).modal3=t)},null,512),[[v,l(b).modal3]]),e("label",Ie,[e("label",Le,[qe,s(_,{title:"Unggah File BAE",widthSize:"100"}),e("label",De,[Oe,e("input",{type:"file",class:"block w-full text-sm text-first file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-slate-200 file:text-first hover:file:bg-slate-300",accept:".pdf",onInput:o[18]||(o[18]=t=>B(t,3))},null,32)]),e("div",Qe,[e("button",{onClick:t=>P(r.procurement.id,r.procurement.name,6,n),class:"btn border-first bg-first mt-5 tracking-wide"},"Unggah",8,Je)])])])])):y("",!0),r.procurement.contract.no_bakn?(a(),i("div",Re,[r.procurement.contract.file_bakn?(a(),i("a",{key:0,href:r.procurement.contract.file_bakn,class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAKN",8,We)):(a(),i("label",Xe,"Unggah BAKN")),k(e("input",{type:"checkbox",id:"filebakn",class:"modal-toggle","onUpdate:modelValue":o[19]||(o[19]=t=>l(b).modal1=t)},null,512),[[v,l(b).modal1]]),e("label",Ye,[e("label",Ze,[et,s(_,{title:"Unggah File BAKN",widthSize:"100"}),e("label",tt,[ot,e("input",{type:"file",class:"my-5 block w-full text-sm text-first file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-slate-200 file:text-first hover:file:bg-slate-300",accept:".pdf",onInput:o[20]||(o[20]=t=>B(t,1))},null,32)]),e("div",lt,[e("button",{onClick:t=>P(r.procurement.id,r.procurement.name,4,n),class:"btn border-first bg-first mt-5 tracking-wide"},"Unggah",8,rt)])])])])):y("",!0),r.procurement.contract.no_bahp?(a(),i("div",st,[r.procurement.contract.file_bahp?(a(),i("a",{key:0,href:r.procurement.contract.file_bahp,class:"mt-3 btn text-first w-full btn-outline font-bold hover:bg-first hover:text-white hover:border-none",target:"_blank"},"BAHP",8,at)):(a(),i("label",nt,"Unggah BAHP")),k(e("input",{type:"checkbox",id:"filebahp",class:"modal-toggle","onUpdate:modelValue":o[21]||(o[21]=t=>l(b).modal2=t)},null,512),[[v,l(b).modal2]]),e("label",it,[e("label",dt,[ct,s(_,{title:"Unggah File BAHP",widthSize:"100"}),e("label",ft,[ut,e("input",{type:"file",class:"my-5 block w-full text-sm text-first file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-slate-200 file:text-first hover:file:bg-slate-300",accept:".pdf",onInput:o[22]||(o[22]=t=>B(t,2))},null,32)]),e("div",bt,[e("button",{onClick:t=>P(r.procurement.id,r.procurement.name,5,n),class:"btn border-first bg-first mt-5 tracking-wide"},"Unggah",8,mt)])])])])):y("",!0)])]),_:2},1024)):y("",!0)])]),_:1},8,["procurement"]))}};export{Pt as default};
