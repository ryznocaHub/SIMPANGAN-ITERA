import{_ as h}from"./Master.83d66d13.js";import{u as P,o as _,c as g,w as y,a as l,b as e,d as o,t as a,e as c,H as x,F as v}from"./app.cbadd5a6.js";import{_ as U}from"./Container.3c236ea6.js";import{_ as N}from"./Header1.4d5ae8c0.js";import{_ as n}from"./Label.b7ad9dd1.js";import{_ as u}from"./Input.d60ea0ad.js";import{N as B}from"./Notification.1138f49b.js";import"./sweetalert2.all.2b313f34.js";const T={class:"text-sm text-error mt-1 mb-4"},$={class:"flex"},E={class:"mt-1 w-4/12"},j={class:"text-sm text-error mt-1 mb-4"},C=o("datalist",{id:"identityType"},[o("option",{value:"NIP"}),o("option",{value:"NPWP"})],-1),S={class:"mt-1 w-full ml-10"},A={class:"text-sm text-error mt-1 mb-4"},F={class:"text-sm text-error mt-1 mb-4"},I={class:"text-sm text-error mt-1 mb-4"},K={id:"unitList"},L={class:"text-sm text-error mt-1 mb-4"},O={class:"text-sm text-error mt-1 mb-4"},q={id:"role"},D={class:"flex justify-end mt-10"},H=["onClick"],Y={__name:"Edit",props:{units:{type:Object,required:!0},user:{type:Object,required:!0}},setup(p){const i=p,b=B(),d=["Admin","Pejabat Pembuat Komitmen (PPK)","Pejabat Pengadaan (PP)","Tim HPS","Tim Kontrak","Tim Teknis","Unit","RAB Checker"],t=P({name:i.user.name,identity_number:i.user.identity_number,identity_type:i.user.identity_type,email:i.user.email,role_string:d[i.user.role-1],role:d[i.user.role-1],unit:i.units[i.user.unit_id-1].full_name,password:null,_method:"patch"}),w=(f,r)=>{var m=d.indexOf(t.role_string);if(m==-1){t.setError("role","Pilih peran yang tersedia");return}t.role=m+1,t.post(route("admin.user.update",f),{onSuccess:s=>b("success","Berhasil edit data user "+t.name),onError:s=>b("error","Gagal edit data user"),onStart:s=>{t.clearErrors(),r()},onFinish:s=>{r()}})};let V=function(){window.history.back()};return(f,r)=>(_(),g(h,null,{default:y(({loading:m})=>[l(N,{title:"Ubah Data Akun",widthSize:"100",class:"mb-5"}),l(U,{class:"w-6/12"},{default:y(()=>[l(n,{value:"Nama"}),l(u,{type:"text",class:"mt-1 block w-full",modelValue:e(t).name,"onUpdate:modelValue":r[0]||(r[0]=s=>e(t).name=s),status:e(t).errors.name},null,8,["modelValue","status"]),o("div",T,a(e(t).errors.name),1),o("div",$,[o("div",E,[l(n,{value:"Tipe Identitas"}),l(u,{type:"text",class:"w-full",modelValue:e(t).identity_type,"onUpdate:modelValue":r[1]||(r[1]=s=>e(t).identity_type=s),status:e(t).errors.identity_type,list:"identityType"},null,8,["modelValue","status"]),o("div",j,a(e(t).errors.identity_type),1),C]),o("div",S,[l(n,{value:"Nomor Identitas"}),l(u,{class:"w-full",type:"text",modelValue:e(t).identity_number,"onUpdate:modelValue":r[2]||(r[2]=s=>e(t).identity_number=s),status:e(t).errors.identity_number},null,8,["modelValue","status"]),o("div",A,a(e(t).errors.identity_number),1)])]),l(n,{value:"Email"}),l(u,{type:"email",class:"mt-1 block w-full",modelValue:e(t).email,"onUpdate:modelValue":r[3]||(r[3]=s=>e(t).email=s),status:e(t).errors.email},null,8,["modelValue","status"]),o("div",F,a(e(t).errors.email),1),l(n,{value:"Password"}),l(u,{type:"password",class:"mt-1 block w-full",modelValue:e(t).password,"onUpdate:modelValue":r[4]||(r[4]=s=>e(t).password=s),status:e(t).errors.password},null,8,["modelValue","status"]),o("div",I,a(e(t).errors.password),1),l(n,{value:"Asal Unit"}),l(u,{type:"text",class:"w-full",modelValue:e(t).unit,"onUpdate:modelValue":r[5]||(r[5]=s=>e(t).unit=s),list:"unitList",status:e(t).errors.unit},null,8,["modelValue","status"]),o("datalist",K,[(_(!0),c(v,null,x(p.units,s=>(_(),c("option",{key:s.id},a(s.full_name),1))),128))]),o("div",L,a(e(t).errors.unit),1),l(n,{value:"Peran pada sistem"}),l(u,{type:"text",class:"w-full",modelValue:e(t).role_string,"onUpdate:modelValue":r[6]||(r[6]=s=>e(t).role_string=s),list:"role",status:e(t).errors.role},null,8,["modelValue","status"]),o("div",O,a(e(t).errors.role),1),o("datalist",q,[(_(),c(v,null,x(d,(s,k)=>o("option",{key:k},a(s),1)),64))]),o("div",D,[o("button",{onClick:r[7]||(r[7]=s=>e(V)()),class:"btn text-first bg-slate-200 border-none hover:text-white hover:bg-first font-bold"},"Batal"),o("button",{onClick:s=>w(p.user.id,m),class:"btn border-first modal-button bg-first ml-3"},"Ubah",8,H)])]),_:2},1024)]),_:1}))}};export{Y as default};
